!function(a){var b="sketchable";a.fn.sketchable.plugins.serializer=function(c){c.sketchable("config");a.extend(a.fn.sketchable.api,{serializer:{save:function(){var c=a(this).data(b);return JSON.stringify({strokes:c.strokes,options:c.options,actions:c.sketch.callStack})},load:function(d){for(var e=a(this).data(b),f=JSON.parse(d),g=e.sketch,h=0;h<f.actions.length;h++){var i=f.actions[h];i.property&&"object"!=typeof i.value?g.data[i.property]=i.value:i.method?g[i.method].apply(g,i.args):console.warn("Unknown call:",i)}return e.callStack=f.actions.slice(),e.strokes=f.strokes.slice(),e.options=f.options,c}}})}}(jQuery);